{"version":3,"file":"angular-mgl-timeline.umd.js","sources":["../../src/timeline/timeline-entry-header/timeline-entry-header.component.ts","../../src/timeline/timeline-entry-dot/timeline-entry-dot.component.ts","../../src/timeline/timeline-entry-content/timeline-entry-content.component.ts","../../src/timeline/timeline-entry-side/timeline-entry-side.component.ts","../../src/timeline/timeline-entry/timeline-entry.component.ts","../../src/timeline/timeline/timeline.component.ts","../../src/timeline/timeline.module.ts","../../angular-mgl-timeline.ts"],"sourcesContent":["import { Component, OnInit, ViewEncapsulation } from '@angular/core';\n\n@Component({\n  selector: 'mgl-timeline-entry-header',\n  templateUrl: './timeline-entry-header.component.html',\n  styleUrls: ['./timeline-entry-header.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class MglTimelineEntryHeaderComponent {\n  \n}\n","import {\n  Component, Input, HostBinding, ElementRef, EventEmitter, Output,\n  AfterViewInit, Renderer2, ChangeDetectorRef, Inject, ViewEncapsulation\n} from '@angular/core';\nimport { AnimationBuilder, style, animate } from '@angular/animations';\nimport { DOCUMENT } from '@angular/common';\n\n@Component({\n  selector: 'mgl-timeline-entry-dot',\n  templateUrl: './timeline-entry-dot.component.html',\n  styleUrls: ['./timeline-entry-dot.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class MglTimelineEntryDotComponent implements AfterViewInit {\n\n  private _expanded: boolean = false;\n  private _alternate: boolean = false;\n  private _mobile: boolean = false;\n  private initialStyle;\n  private _size: number = 50;\n  private animation;\n\n  animationDone = new EventEmitter<any>();\n\n  @Input()\n  expandAnimationTiming = '200ms ease';\n\n  @Input()\n  collapseAnimationTiming = '100ms ease';\n\n\n  @Input('class')\n  @HostBinding('class')\n  clazz = 'primary';\n\n  @Input()\n  set size(size: number) {\n    this._size = size;\n    this.setStyle();\n  }\n\n  get size() {\n    return this._size;\n  }\n\n  set alternate(alternate: boolean) {\n    this._alternate = alternate;\n    this.setStyle();\n  }\n\n  get alternate() {\n    return this._alternate;\n  }\n\n  set mobile(mobile: boolean) {\n    this._mobile = mobile;\n    this.setStyle();\n  }\n\n  get mobile() {\n    return this._mobile;\n  }\n\n  set expanded(expanded: boolean) {\n    const animate = this._expanded !== expanded;\n    this._expanded = expanded;\n    animate ? this.animate() : this.setStyle()\n  }\n\n  get expanded() {\n    return this._expanded;\n  }\n\n  constructor(private animationBuilder: AnimationBuilder, private elementRef: ElementRef,\n  private renderer: Renderer2, private changeDetectorRef: ChangeDetectorRef,\n  @Inject(DOCUMENT) private document) { }\n\n  ngAfterViewInit() {\n    this.initialStyle = this.document.defaultView.getComputedStyle(this.elementRef.nativeElement);\n    this.setStyle();\n    this.changeDetectorRef.detectChanges();\n  }\n\n  private getCollapsedStyle() {\n    return {\n      top: '50%',\n      left: (this.alternate || this.mobile) ? '-5px' : 'calc(100% + 5px)',\n      width: this.size + 'px',\n      height: this.size + 'px',\n      opacity: 1,\n      transform: 'translateY(-50%) translateX(-50%)',\n      boxShadow: this.initialStyle && this.initialStyle.boxShadow,\n      borderRadius: '100px'\n    }\n  }\n\n  private getTransitionStyle() {\n    return {\n      ...this.getCollapsedStyle(),\n      left: '50%',\n      opacity: 0.5,\n      boxShadow: 'none'\n    }\n  }\n\n  private getExpandedStyle() {\n    return {\n      ...this.getTransitionStyle(),\n      left: '0',\n      transform: 'translateX(0) translateY(-50%)',\n      width: '100%',\n      height: '100%',\n      opacity: 1,\n      borderRadius: 0\n    }\n  }\n\n  private animate() {\n    this.destroyAnimation();\n    if (this.expanded) {\n      this.animation = this.animationBuilder\n        .build([\n          style(this.getCollapsedStyle()),\n          animate(this.expandAnimationTiming, style(this.getTransitionStyle())),\n          animate(this.expandAnimationTiming, style(this.getExpandedStyle())),\n        ])\n        .create(this.elementRef.nativeElement)\n      this.animation.onDone(() => this.animationDone.emit({ toState: 'expanded' }));\n      this.animation.play();\n\n    } else {\n      this.animationBuilder\n      this.animation = this.animationBuilder\n        .build([\n          style(this.getExpandedStyle()),\n          animate(this.collapseAnimationTiming, style(this.getTransitionStyle())),\n          animate(this.collapseAnimationTiming, style(this.getCollapsedStyle())),\n        ])\n        .create(this.elementRef.nativeElement)\n      this.animation.onDone(() => this.animationDone.emit({ toState: 'collapsed' }));\n      this.animation.play();\n    }\n  }\n\n  private setStyle() {\n    this.destroyAnimation();\n    const baseStyle = this.expanded ? this.getExpandedStyle() : this.getCollapsedStyle();\n    Object.keys(baseStyle).forEach(property => {\n      this.renderer.setStyle(this.elementRef.nativeElement, property, baseStyle[property])\n    })\n  }\n\n  private destroyAnimation() {\n    if (this.animation) {\n      this.animation.destroy();\n      delete this.animation;\n    }\n  }\n\n}\n","import { AnimationBuilder, style, animate } from '@angular/animations';\nimport { Component, EventEmitter, ElementRef, AfterViewInit, Renderer2, ViewEncapsulation, Input } from '@angular/core';\n\n@Component({\n  selector: 'mgl-timeline-entry-content',\n  templateUrl: './timeline-entry-content.component.html',\n  styleUrls: ['./timeline-entry-content.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class MglTimelineEntryContentComponent implements AfterViewInit {\n\n  @Input()\n  expandAnimationTiming = '200ms ease';\n\n  @Input()\n  collapseAnimationTiming = '100ms ease';\n\n  private contentHeight;\n  animationDone = new EventEmitter<any>();\n\n  private _expanded: boolean = false;\n\n  set expanded(expanded: boolean) {\n    this.contentHeight = this.elementRef.nativeElement.scrollHeight;\n    const animate = this._expanded !== expanded;\n    this._expanded = expanded;\n    animate ? this.animate() : this.setStyle\n  }\n\n  get expanded() {\n    return this._expanded;\n  }\n\n  constructor(private elementRef: ElementRef, private animationBuilder: AnimationBuilder, private renderer: Renderer2) { }\n\n  ngAfterViewInit(): void {\n    this.contentHeight = this.elementRef.nativeElement.scrollHeight;\n    this.setStyle();\n  }\n\n  private getCollapsedStyle() {\n    return {\n      height: '0px'\n    }\n  }\n\n  private getExpandedStyle() {\n    return {\n      height: this.contentHeight + 'px'\n    }\n  }\n\n  animate() {\n    if (this.expanded) {\n      const animation = this.animationBuilder\n        .build([\n          style(this.getCollapsedStyle()),\n          animate(this.expandAnimationTiming, style(this.getExpandedStyle())),\n        ])\n        .create(this.elementRef.nativeElement)\n      animation.onDone(() => this.animationDone.emit({ toState: 'expanded' }));\n      animation.play();\n\n    } else {\n      this.animationBuilder\n      const animation = this.animationBuilder\n        .build([\n          style(this.getExpandedStyle()),\n          animate(this.collapseAnimationTiming, style(this.getCollapsedStyle())),\n        ])\n        .create(this.elementRef.nativeElement)\n      animation.onDone(() => this.animationDone.emit({ toState: 'collapsed' }));\n      animation.play();\n    }\n  }\n\n  setStyle() {\n    const baseStyle = this.expanded ? this.getExpandedStyle() : this.getCollapsedStyle();\n    Object.keys(baseStyle).forEach(property => {\n      this.renderer.setStyle(this.elementRef.nativeElement, property, baseStyle[property])\n    })\n  }\n\n}\n","import { Component, Input, ElementRef, ViewEncapsulation } from '@angular/core';\n\n@Component({\n  selector: 'mgl-timeline-entry-side',\n  templateUrl: './timeline-entry-side.component.html',\n  styleUrls: ['./timeline-entry-side.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class MglTimelineEntrySideComponent {\n\n  set alternate(value) {\n    this.elementRef.nativeElement.classList.toggle('alternate', value);\n  }\n\n  set mobile(value) {\n    this.elementRef.nativeElement.classList.toggle('mobile', value);\n  }\n  \n  constructor(private elementRef: ElementRef) { }\n\n}\n","import {HostBinding, ViewEncapsulation} from '@angular/core';\nimport { MglTimelineEntrySideComponent } from './../timeline-entry-side/timeline-entry-side.component';\nimport { Subscription } from 'rxjs/Subscription';\nimport { MglTimelineEntryDotComponent } from './../timeline-entry-dot/timeline-entry-dot.component';\nimport {\n  Component, AfterViewInit, Output, EventEmitter, ContentChild, OnDestroy, ElementRef\n} from '@angular/core';\nimport { MglTimelineEntryContentComponent } from '../timeline-entry-content/timeline-entry-content.component';\nimport { MglTimelineEntryHeaderComponent } from '../timeline-entry-header/timeline-entry-header.component';\n\n@Component({\n  selector: 'mgl-timeline-entry',\n  templateUrl: './timeline-entry.component.html',\n  styleUrls: ['./timeline-entry.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class MglTimelineEntryComponent implements AfterViewInit, OnDestroy {\n\n  private subscriptions: Subscription[] = [];\n\n  focusOnOpen: boolean = false;\n\n  set expanded(expanded) {\n    if (this.dot && expanded) {\n      this.dot.expanded = expanded;\n    } else {\n      this.content.expanded = expanded\n    }\n    this.changed.emit(expanded);\n  }\n\n  @HostBinding('class.expanded')\n  get expanded() {\n    return this.dot ? (this.dot.expanded && this.content.expanded) : this.content.expanded;\n  }\n\n  private _mobile: boolean = false;\n\n  set mobile(value) {\n    this.elementRef.nativeElement.classList.toggle('mobile', value);\n    if (this.dot) {\n      this.dot.mobile = value;\n    }\n    if (this.side) {\n      this.side.mobile = value;\n    }\n  }\n\n  @Output('expand')\n  changed = new EventEmitter<boolean>();\n\n  @Output()\n  animationDone = new EventEmitter<string>();\n\n  @ContentChild(MglTimelineEntryContentComponent) content: MglTimelineEntryContentComponent;\n  @ContentChild(MglTimelineEntryHeaderComponent) header: MglTimelineEntryHeaderComponent;\n  @ContentChild(MglTimelineEntryDotComponent) dot: MglTimelineEntryDotComponent;\n  @ContentChild(MglTimelineEntrySideComponent) side: MglTimelineEntrySideComponent;\n\n  constructor(private elementRef: ElementRef) { }\n\n  ngAfterViewInit() {\n    if (this.dot) {\n      this.subscriptions.push(this.dot.animationDone.subscribe(event => {\n        if (event.toState === 'expanded') {\n          this.content.expanded = true;\n        } else {\n          this.animationDone.emit(event);\n        }\n      }));\n    }\n    if (this.content) {\n      this.subscriptions.push(this.content.animationDone.subscribe(event => {\n        if (this.dot && event.toState === 'collapsed') {\n          this.dot.expanded = false;\n        } else {\n          if (this.focusOnOpen) {\n            this.elementRef.nativeElement.scrollIntoView({ behavior: 'smooth' });\n          }\n          this.animationDone.emit(event);\n        }\n      }));\n    }\n  }\n\n  set alternate(value: boolean) {\n    this.elementRef.nativeElement.classList.toggle('alternate', value);\n    if (this.dot) {\n      this.dot.alternate = value;\n    }\n    if (this.side) {\n      this.side.alternate = value;\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(subscription => subscription.unsubscribe());\n  }\n\n  collapse() {\n    this.expanded = false;\n  }\n\n  expand() {\n    this.expanded = true;\n  }\n\n\n  toggle(event: MouseEvent) {\n    const headerFound = this.containsInPath(event, 'mgl-timeline-entry-header');\n    const dotFound = this.containsInPath(event, 'mgl-timeline-entry-dot');\n    if (headerFound || dotFound) {\n      this.expanded = !this.expanded;\n    }\n  }\n\n  private containsInPath(mouseEvent: MouseEvent, name: string): boolean {\n    let currentElem: Element = mouseEvent.target as Element;\n    while (currentElem) {\n      if (currentElem.localName === name) {\n        return true;\n      }\n      currentElem = currentElem.parentElement;\n    }\n    return false;\n  }\n}\n","import { QueryList, ElementRef, ChangeDetectorRef, ViewEncapsulation } from '@angular/core';\nimport { MglTimelineEntryComponent } from './../timeline-entry/timeline-entry.component';\nimport { Component, Input, ContentChildren, AfterViewInit, EventEmitter, Output, HostListener, OnChanges, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs/Subscription';\n@Component({\n  selector: 'mgl-timeline',\n  templateUrl: './timeline.component.html',\n  styleUrls: ['./timeline.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class MglTimelineComponent implements AfterViewInit, OnChanges, OnDestroy {\n\n  @Input()\n  toggle: boolean = true;\n\n  @Input()\n  mobileWidthThreshold: number = 640;\n\n  @Input()\n  alternate: boolean = true;\n\n  @Input()\n  side: string = 'left';\n\n  set mobile(value: boolean) {\n    this.content && this.content.forEach(entry => entry.mobile = value);\n    this.elementRef.nativeElement.classList.toggle('mobile', value)\n  }\n\n  get mobile() {\n    return this.elementRef.nativeElement.classList.contains('mobile');\n  }\n\n  private _focusOnOpen = false;\n\n  @Input()\n  set focusOnOpen(focusOnOpen) {\n    this.content && this.content.forEach(entry => entry.focusOnOpen = focusOnOpen);\n    this._focusOnOpen = focusOnOpen;\n  }\n\n  get focusOnOpen() {\n    return this._focusOnOpen;\n  }\n\n  private subscriptions: Subscription[] = [];\n\n  @ContentChildren(MglTimelineEntryComponent)\n  private content: QueryList<MglTimelineEntryComponent>;\n\n  constructor(private elementRef: ElementRef, private changeDetectorRef: ChangeDetectorRef) { }\n\n  ngOnChanges(simpleChanges) {\n    this.updateContent();\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(subscription => subscription.unsubscribe());\n  }\n\n  ngAfterViewInit() {\n    this.mobile = this.elementRef.nativeElement.clientWidth < this.mobileWidthThreshold;\n    setTimeout(() => this.updateContent());\n    this.content.changes.subscribe(changes => {\n      this.updateContent();\n    });\n  }\n\n  private updateContent() {\n    this.ngOnDestroy();\n    if (this.content) {\n      this.content.forEach((entry, index) => {\n        if (this.toggle) {\n          this.subscriptions.push(\n            entry.changed.subscribe(state => {\n              if (state === true) {\n                this.content.filter(e => e !== entry).forEach(e => e.collapse());\n              }\n            }));\n        }\n        entry.alternate = this.alternate ? (index % 2 !== 0) : (this.side === 'right');\n        entry.mobile = this.mobile;\n        entry.focusOnOpen = this.focusOnOpen;\n      });\n    }\n  }\n\n  @HostListener('window:resize', ['$event'])\n  onResize(ev: KeyboardEvent) {\n    this.mobile = this.elementRef.nativeElement.clientWidth < this.mobileWidthThreshold;\n  }\n}\n","import { MglTimelineEntryHeaderComponent } from './timeline-entry-header/timeline-entry-header.component';\nimport { MglTimelineEntryDotComponent } from './timeline-entry-dot/timeline-entry-dot.component';\nimport { MglTimelineEntryContentComponent } from './timeline-entry-content/timeline-entry-content.component';\nimport { MglTimelineEntrySideComponent } from './timeline-entry-side/timeline-entry-side.component';\nimport { MglTimelineEntryComponent } from './timeline-entry/timeline-entry.component';\nimport { MglTimelineComponent } from './timeline/timeline.component';\nimport { NgModule } from '@angular/core';\n@NgModule({\n  declarations: [\n    MglTimelineComponent,\n    MglTimelineEntryComponent,\n    MglTimelineEntryHeaderComponent,\n    MglTimelineEntrySideComponent,\n    MglTimelineEntryContentComponent,\n    MglTimelineEntryDotComponent\n  ],\n  exports: [\n    MglTimelineComponent,\n    MglTimelineEntryComponent,\n    MglTimelineEntryHeaderComponent,\n    MglTimelineEntrySideComponent,\n    MglTimelineEntryContentComponent,\n    MglTimelineEntryDotComponent\n  ]\n})\nexport class MglTimelineModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n\nexport {MglTimelineEntryContentComponent as ɵc} from './src/timeline/timeline-entry-content/timeline-entry-content.component';\nexport {MglTimelineEntryDotComponent as ɵe} from './src/timeline/timeline-entry-dot/timeline-entry-dot.component';\nexport {MglTimelineEntryHeaderComponent as ɵd} from './src/timeline/timeline-entry-header/timeline-entry-header.component';\nexport {MglTimelineEntrySideComponent as ɵf} from './src/timeline/timeline-entry-side/timeline-entry-side.component';\nexport {MglTimelineEntryComponent as ɵb} from './src/timeline/timeline-entry/timeline-entry.component';\nexport {MglTimelineComponent as ɵa} from './src/timeline/timeline/timeline.component';"],"names":["Component","ViewEncapsulation","EventEmitter","style","animate","AnimationBuilder","ElementRef","Renderer2","ChangeDetectorRef","Inject","DOCUMENT","Input","HostBinding","Output","ContentChild","ContentChildren","HostListener","NgModule"],"mappings":"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"}